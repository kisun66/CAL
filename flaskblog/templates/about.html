{% extends "layout.html" %}
{% block content %}
<style>
    #about1 {
        margin-bottom: 200px;
    }

    #about1>div>h1 {
        margin: 20px auto 30px auto;
    }

    #about1 div {
        position: relative;
        margin: auto;
        /* top:15px; */
    }

    #about1 div h1 {
        position: relative;
        margin: 20px auto 10px auto;
    }

    @media (max-width: 870px) {
        #about1 {
            text-align: center;
        }

        html {
            width: 100%;
        }

        #two h1 {
            margin-bottom: 50px !important;
        }

        .fade4 {
            margin: 20px auto !important;
        }

        .fade5 {
            margin-bottom: 50px;
        }
    }

    #para2 {
        position: relative;
        margin: 30px auto;
        margin-bottom: 50px;
        font-weight: 900;
        top: 40px;
    }

    .navbar,
    body {
        /* background-color: rgb(133, 0, 0); */
        transition: ease-out 1s;
    }

    /* #navbarToggle a {
        transition: ease-out 1s;
        transition-property: all;
    } */

    .hideme {
        opacity: 0;
    }

    #CALAbout {
        margin-top: 300px;
    }

    #fade3,
    #fade4,
    #fade5,
    #fade6 {
        font-weight: 900;
    }

    #fade5 {
        margin-top: 50px !important;
    }

    #fade1>h1 {
        margin-bottom: 20px !important;
    }

    /* .row.virusInfo{
        display: flex;
        flex-direction:row;
    } */
    #virus {
        display: block;
        margin: 30px auto;
        animation: rotateAni 300s linear infinite;
    }

    @keyframes rotateAni {
        100% {
            transform: rotate(360deg);
        }
    }

    #CALAbout>div>div>h1 {
        font-weight: 900;
    }

    #CALAbout>div {
        margin-bottom: 200px;
    }

    #two h1,
    #two div {
        font-weight: 900;
    }

    #two div {
        margin-bottom: 50px;
    }

    #two h1 {
        margin-top: 200px;
        margin-bottom: 100px;
        transition: 1s ease-out;
        transition-property: color;
    }

    #three {
        margin-top: 200px;
        margin-bottom: 60px;
    }

    #three div {
        font-weight: 900;
    }

    #three div h1 {
        margin: 40px auto;
        font-weight: 900;
    }

    #f1,
    #f2,
    #f3 {
        position: relative;
        opacity: 0;
        top: 50px;
    }

    .virusFade,
    .fade4,
    .fade5 {
        position: relative;
        opacity: 0;
        top: 50px;
    }

    .down {
        position: relative;
        animation: fadeInDown 2s forwards;
    }

    .down .down1 {
        position: relative;
        top: -235px;
        animation: down 2s infinite ease-in-out;
    }

    .down small {
        position: relative;
        top: -295px;
        animation: down2 2s infinite ease-in-out;
    }

    @keyframes fadeInDown {
        0% {
            opacity: 0;
        }

        100% {
            opacity: 1;
        }
    }

    @keyframes down {
        0% {
            top: -235px;
        }

        50% {
            top: -245px;
        }

        100% {
            top: -235px;
        }
    }

    @keyframes down2 {
        0% {
            top: -290px;
        }

        50% {
            top: -300px;
        }

        100% {
            top: -290px;
        }
    }

    @media (max-width: 1550px) {
        .down {
            display: none;
        }
    }

    @media (max-width: 870px) {
        .headers {
            font-size: 30px;
        }
    }

    .explanation{
        line-height: 37px;
    }
</style>
<span></span>
<div class="row" id="about1">
    <div class="col-lg-12 text-center" id="fade1">
        <h1 class="headers" style="font-weight: 900;">COVID-19 Analysis Laboratory</h1>
    </div>
    <div class="col-lg-6" id="fade2">
        <img src="../static/img/virus.png" als="virus" class="img-responsive" width="100%" id="virus">
    </div>
    <div class="col-lg-6">
        <h1 id="fade3" class="headers">코로나19(COVID-19)란?</h1>
        <div id="fade4" class="explanation">
            COVID-19 바이러스에 감염된 대부분의 사람들은 경증에서 중등도 호흡기 질환을 경험하고<br>
            특별한 치료없이 회복 할 수 있습니다.<br>
            노인과 심혈관 질환, 당뇨병, 만성 호흡기질환 및 암과 같은 근본적인 의학적 문제가있는 사람들은<br>
            심각한 질병을 앓을 가능성이 높습니다.<br>
        </div>
        <h1 id="fade5" class="headers">예방하는법은?</h1>
        <div id="fade6" class="explanation">
            COVID-19 바이러스는 손을 씻거나 알코올 성분을 자주 문질러 얼굴에 닿지 않도록하여<br>
            자신과 타인을 감염으로부터 보호할 수 있습니다.<br>
            COVID-19 바이러스는 감염된 사람이 기침이나 재채기를 할 때 주로 타액 방울이나 코에서 배출되어<br>
            전파되므로 호흡 에티켓 (예 : 구부러진 팔꿈치에 기침)을 실시하는 것이 중요합니다.<br>
        </div>
    </div>
</div>
<div class="text-center down">
    <img src="../static/img/down.png" alt="" class="down1">
</div>
<div class="text-center down">
    <small>스크롤 하세요</small>
</div>
<div class="row" id="two">
    <h1 class="col-lg-12 text-center headers" id="f1">
        COVID-19 Analysis Laboratory의 예측모델과 원리
    </h1>
    <div class="col-lg-6 explanation" id="f2">
        <p>
            CAL은 코로나19에 대한 빅데이터를 수집하고 이를 Light GBM(LGBM)을 통해 분석하고 예측합니다.<br>
            Light GBM(LGBM)은 Microsoft에서 발표하고 제공하는<br>
            오픈소스 그래디언트 부스팅결정트리 프레임워크입니다.<br>
            기존의 그래디언트 부스팅 결정 트리 프레임워크의 경우<br>
            고차원 변수가 포함된 큰 데이터에서 정확도와 효율성이 떨어지는 경향이 있는데,<br>
            이런 단점을 Gradient-based One-Side Sampling(GOSS)과<br>
            Exclusive Feature Bundling(EFB)라는 두 가지 기술을 이용하여 보완한 프레임워크입니다.<br>
            우선 한국을 포함한 총 8개의 나라에서 실시하는 코로나19 관련 정책들을 수집합니다.<br>
            이 나라들은 코로나19 확진자가 높은 나라들 중 정책 데이터가 많은 나라로 선정하였습니다.<br>
            그 후 Light GBM을 이용해 각 정책들이 코로나19 확진자 추이에 얼마나 많은 영향을 끼치는지<br>
            분석하고 그 중에서 가장 많은 영향을 끼친 11개의 정책을 선정하였습니다.<br>
            그리고 전세계를 기준으로 각 정책들이 시행됨에 따라 확진자 추이가<br>
            어떻게 변했왔을지를 Light GBM 을 통해 예측합니다.<br>
        </p>
    </div>
    <div class="col-lg-6" id="f3">
        <img src="../static/img/brain.png" class="img-responsive" width="100%">
    </div>
</div>

<div class="row virusInfos" id="three">
    <div class="virusInfo col-lg-4">
        <img src="../static/img/corona2.png" class="virusFade" id="virus">
        <div class="text-center">
            <h1 class="fade4">코로나19<br>(COVID-19)</h1>
            <div class="fade5 explanation">
                2019년 발견<br>
                중국에서 시작<br>
                RNA의 바이러스 유전형태<br>
                2~4일의 잠복기(최장 14일)<br>
                박쥐가 감염매개체(추정)<br>
                비말전염<br>
                2%의 치사율<br>
                백신없음<br>
                100만명 이상 감염, 5만명 사망(진행중)<br>
            </div>
        </div>
    </div>
    <div class="virusInfo col-lg-4">
        <img src="../static/img/mers.png" class="virusFade" id="virus">
        <div class="text-center">
            <h1 class="fade4">메르스<br>(MERS)</h1>
            <div class="fade5 explanation">
                2012년 발견<br>
                사우디에서 시작<br>
                RNA의 바이러스 유전형태<br>
                5~6일의 잠복기(최장 14일)<br>
                박쥐,단봉낙타가 감염매개체<br>
                비말전염<br>
                30~40%의 치사율<br>
                백신없음<br>
                2500명중 35% 사망<br>
            </div>
        </div>
    </div>
    <div class="virusInfo col-lg-4">
        <img src="../static/img/sars2.png" class="virusFade" id="virus">
        <div class="text-center">
            <h1 class="fade4">사스<br>(SARS)</h1>
            <div class="fade5 explanation">
                2002년 발견<br>
                중국에서 시작<br>
                RNA의 바이러스 유전형태<br>
                2~7일의 잠복기(최장 14일)<br>
                박쥐,사향고양이가 감염매개체<br>
                비말전염<br>
                10%의 치사율<br>
                백신없음<br>
                8천여명 감염, 774명 사망<br>
            </div>
        </div>
    </div>
</div>
<script>
    $('#fade1, #fade2, #fade3, #fade4, #fade5, #fade6').css({
        'opacity': '0',
        'top': '25px'
    });
    $('#fade1').animate({
        'top': '0px',
        'opacity': '1'
    }, 1000, 'easeOutQuad');
    $('#fade2').delay(500).animate({
        'top': '0px',
        'opacity': '1'
    }, 1700, 'easeOutQuad');
    $('#fade3').delay(1000).animate({
        'top': '0px',
        'opacity': '1'
    }, 1000, 'easeOutQuad');
    $('#fade4').delay(1200).animate({
        'top': '0px',
        'opacity': '1'
    }, 1000, 'easeOutQuad');
    $('#fade5').delay(1400).animate({
        'top': '0px',
        'opacity': '1'
    }, 1000, 'easeOutQuad');
    $('#fade6').delay(1600).animate({
        'top': '0px',
        'opacity': '1'
    }, 1000, 'easeOutQuad');

    $(window).scroll('scroll', function () {
        var top = $(this).scrollTop();
        if (top > 900) {
            // console.log(top);
            $('.navbar').css({
                'background-color': 'white'
            });
            $('body').css({
                'background-color': 'black',
                'color': 'white'
            });
            $('#navbarToggle a').css({
                'color': 'black'
            });
            $('h1').css({
                'color': 'white'
            });
            $("#logoImg").attr("src", "../static/img/CAL_logo_black.png");
        } else {
            $('.navbar').css({
                'background-color': 'rgb(133, 0, 0)'
            });
            $('body').css({
                'background-color': '#FAFAFA',
                'color': '#444444'
            });
            $('#navbarToggle a').css({
                'color': 'white'
            });
            $('h1').css({
                'color': '#444444'
            });
            $("#logoImg").attr("src", "../static/img/CAL_logo.png");
        }

        $('.hideme').each(function (i) {
            var bottom_of_object = $(this).offset().top + $(this).outerHeight();
            var bottom_of_window = $(window).scrollTop() + $(window).height();
            /* 3 */
            if (bottom_of_window > (bottom_of_object)) {
                $(this).animate({
                    'opacity': '1',
                    'top': '0px'
                }, 1500);
            }
        });

        if (top > 250) {
            $('.down').animate({
                'top': '300px',
            }, 1000, 'easeOutQuad');
            $('.down .down1, .down small').animate({
                'opacity': '0'
            }, 1000, 'easeOutQuad');
        }

        if (top > 700) {
            $('#f1').animate({
                'opacity': '1',
                'top': '0px'
            }, 1000, 'easeOutQuad');
            $('#f2').delay(500).animate({
                'opacity': '1',
                'top': '0px'
            }, 1000, 'easeOutQuad');
            $('#f3').delay(1000).animate({
                'opacity': '1',
                'top': '0px'
            }, 1000, 'easeOutQuad');
        }

        if (top > 2000) {
            $('.virusFade').animate({
                'opacity': '1',
                'top': '0px'
            }, 1000, 'easeOutQuad');
            $('.fade4').delay(500).animate({
                'opacity': '1',
                'top': '0px'
            }, 1000, 'easeOutQuad');
            $('.fade5').delay(1000).animate({
                'opacity': '1',
                'top': '0px'
            }, 1000, 'easeOutQuad');
        }
    });
</script>
{% endblock content %}